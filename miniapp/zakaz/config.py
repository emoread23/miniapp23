from dataclasses import dataclass
from typing import Dict, List
import os
from dotenv import load_dotenv

load_dotenv()

BOT_TOKEN = os.getenv('BOT_TOKEN')
SECRET_KEY = os.getenv('SECRET_KEY', 'fdjwzuiiuhs8d9y128dwd0sqe1')
ADMIN_ID = int(os.getenv('ADMIN_ID', 0))

@dataclass
class Level:
    name: str
    min_deposit: float
    monthly_income: float
    required_referrals: int
    referral_bonus: float  # –ü—Ä–æ—Ü–µ–Ω—Ç –æ—Ç –≤–∫–ª–∞–¥–∞ —Ä–µ—Ñ–µ—Ä–∞–ª–∞

LEVELS = {
    "–ù–æ–≤–∏—á–æ–∫": Level("–ù–æ–≤–∏—á–æ–∫", 50, 10, 3, 5),
    "–¢—Ä–µ–π–¥–µ—Ä": Level("–¢—Ä–µ–π–¥–µ—Ä", 100, 15, 6, 6),
    "–ò–Ω–≤–µ—Å—Ç–æ—Ä": Level("–ò–Ω–≤–µ—Å—Ç–æ—Ä", 200, 20, 9, 7),
    "–ú–∞–≥–Ω–∞—Ç": Level("–ú–∞–≥–Ω–∞—Ç", 500, 25, 12, 8),
    "–ò–º–ø–µ—Ä–∞—Ç–æ—Ä": Level("–ò–º–ø–µ—Ä–∞—Ç–æ—Ä", 1000, 30, 15, 10)
}

REFERRAL_PERCENTS = {
    1: 10,  # –ü–µ—Ä–≤–∞—è –ª–∏–Ω–∏—è
    2: 5,   # –í—Ç–æ—Ä–∞—è –ª–∏–Ω–∏—è
    3: 3    # –¢—Ä–µ—Ç—å—è –ª–∏–Ω–∏—è
}

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤—ã–≤–æ–¥–∞ —Å—Ä–µ–¥—Å—Ç–≤
WITHDRAW_DELAY_MIN = 24  # —á–∞—Å–æ–≤
WITHDRAW_DELAY_MAX = 72  # —á–∞—Å–æ–≤

# –ê–ø–≥—Ä–µ–π–¥—ã –≤ –º–∞–≥–∞–∑–∏–Ω–µ
UPGRADES = [
    {
        "name": "üöÄ –£—Å–∫–æ—Ä–µ–Ω–Ω—ã–π —Ä–æ—Å—Ç",
        "price": 50,
        "description": "–£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –¥–æ—Ö–æ–¥ –Ω–∞ 5% –Ω–∞ 7 –¥–Ω–µ–π",
        "type": "boost",
        "duration": 7,
        "effect": 5
    },
    {
        "name": "üíé –ü—Ä–µ–º–∏—É–º —Å—Ç–∞—Ç—É—Å",
        "price": 100,
        "description": "–£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–π –±–æ–Ω—É—Å –Ω–∞ 2% –Ω–∞–≤—Å–µ–≥–¥–∞",
        "type": "permanent",
        "effect": 2
    },
    {
        "name": "‚ö°Ô∏è –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –≤—ã–≤–æ–¥",
        "price": 200,
        "description": "–ü–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–≤–æ–¥–∏—Ç—å —Å—Ä–µ–¥—Å—Ç–≤–∞ –±–µ–∑ –∑–∞–¥–µ—Ä–∂–∫–∏ (3 —Ä–∞–∑–∞)",
        "type": "consumable",
        "uses": 3
    }
]

# –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è
ACHIEVEMENTS = [
    {
        "name": "üéØ –ü–µ—Ä–≤—ã–µ —à–∞–≥–∏",
        "description": "–°–¥–µ–ª–∞–π—Ç–µ –ø–µ—Ä–≤—ã–π –¥–µ–ø–æ–∑–∏—Ç",
        "reward": 5
    },
    {
        "name": "üë• –ö–æ–º–∞–Ω–¥–∞",
        "description": "–ü—Ä–∏–≥–ª–∞—Å–∏—Ç–µ 3 –¥—Ä—É–∑–µ–π",
        "reward": 10
    },
    {
        "name": "üíé –ò–Ω–≤–µ—Å—Ç–æ—Ä",
        "description": "–î–æ—Å—Ç–∏–≥–Ω–∏—Ç–µ —É—Ä–æ–≤–Ω—è –ò–Ω–≤–µ—Å—Ç–æ—Ä",
        "reward": 20
    }
]

# –¢–µ–∫—Å—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è
WELCOME_MESSAGE = """
üëã –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Crypto Empire Quest!

üéÆ –≠—Ç–æ –∏–≥—Ä–∞, –≥–¥–µ –≤—ã –º–æ–∂–µ—Ç–µ:
‚Ä¢ –°—Ç—Ä–æ–∏—Ç—å —Å–≤–æ—é –∫—Ä–∏–ø—Ç–æ-–∏–º–ø–µ—Ä–∏—é
‚Ä¢ –ó–∞—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ø–∞—Å—Å–∏–≤–Ω—ã–π –¥–æ—Ö–æ–¥
‚Ä¢ –ü—Ä–∏–≥–ª–∞—à–∞—Ç—å –¥—Ä—É–∑–µ–π –∏ –ø–æ–ª—É—á–∞—Ç—å –±–æ–Ω—É—Å—ã
‚Ä¢ –ü–æ–∫—É–ø–∞—Ç—å –∞–ø–≥—Ä–µ–π–¥—ã –∏ —É–ª—É—á—à–µ–Ω–∏—è

üí∞ –ù–∞—á–Ω–∏—Ç–µ —Å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ –¥–µ–ø–æ–∑–∏—Ç–∞ –≤ 50 USDT –∏ –Ω–∞—á–Ω–∏—Ç–µ —Å–≤–æ–π –ø—É—Ç—å –∫ —É—Å–ø–µ—Ö—É!

üì± –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ–Ω—é –Ω–∏–∂–µ –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏.
"""

# –¢–µ–∫—Å—Ç –ø–æ–º–æ—â–∏
HELP_MESSAGE = """
üìö –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–æ–º–∞–Ω–¥:

/start - –ù–∞—á–∞—Ç—å –∏–≥—Ä—É
/help - –ü–æ–∫–∞–∑–∞—Ç—å —ç—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ
/balance - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±–∞–ª–∞–Ω—Å
/deposit - –ü–æ–ø–æ–ª–Ω–∏—Ç—å –±–∞–ª–∞–Ω—Å
/withdraw - –í—ã–≤–µ—Å—Ç–∏ —Å—Ä–µ–¥—Å—Ç–≤–∞
/referral - –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞
/shop - –ú–∞–≥–∞–∑–∏–Ω –∞–ø–≥—Ä–µ–π–¥–æ–≤
/top - –¢–æ–ø –∏–≥—Ä–æ–∫–æ–≤
/settings - –ù–∞—Å—Ç—Ä–æ–π–∫–∏

üí° –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫–∏ –º–µ–Ω—é –¥–ª—è —É–¥–æ–±–Ω–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏.
"""

# –°–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π
MESSAGES = {
    'deposit': {
        'start': "üíé –í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É –¥–ª—è –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è (–º–∏–Ω–∏–º—É–º 50 USDT):",
        'invalid': "‚ùå –ù–µ–≤–µ—Ä–Ω–∞—è —Å—É–º–º–∞. –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –¥–µ–ø–æ–∑–∏—Ç: 50 USDT",
        'success': "‚úÖ –î–µ–ø–æ–∑–∏—Ç —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω! –û–∂–∏–¥–∞–π—Ç–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è.",
    },
    'withdraw': {
        'start': "üí∞ –í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É –¥–ª—è –≤—ã–≤–æ–¥–∞:",
        'invalid': "‚ùå –ù–µ–≤–µ—Ä–Ω–∞—è —Å—É–º–º–∞ –∏–ª–∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤",
        'success': "‚úÖ –ó–∞—è–≤–∫–∞ –Ω–∞ –≤—ã–≤–æ–¥ —Å–æ–∑–¥–∞–Ω–∞! –û–∂–∏–¥–∞–π—Ç–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ (24-72 —á–∞—Å–∞).",
    },
    'referral': {
        'link': "üîó –í–∞—à–∞ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞:",
        'stats': "üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤:",
    },
    'shop': {
        'welcome': "üè™ –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –º–∞–≥–∞–∑–∏–Ω!",
        'not_enough': "‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤",
        'success': "‚úÖ –ü–æ–∫—É–ø–∫–∞ —É—Å–ø–µ—à–Ω–æ —Å–æ–≤–µ—Ä—à–µ–Ω–∞!",
    },
    'achievement': {
        'new': "üèÜ –ü–æ–ª—É—á–µ–Ω–æ –Ω–æ–≤–æ–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ: {name}",
        'reward': "üéÅ –ù–∞–≥—Ä–∞–¥–∞: {reward}",
    },
    'deposit_confirmed': '‚úÖ –í–∞—à –¥–µ–ø–æ–∑–∏—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω! –ë–∞–ª–∞–Ω—Å –ø–æ–ø–æ–ª–Ω–µ–Ω –Ω–∞ {amount} USDT',
    'withdraw_confirmed': '‚úÖ –í–∞—à –≤—ã–≤–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω! {amount} USDT –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞ –≤–∞—à –∫–æ—à–µ–ª–µ–∫',
    'withdraw_cancelled': '‚ùå –í—ã–≤–æ–¥ –æ—Ç–º–µ–Ω–µ–Ω. –°—Ä–µ–¥—Å—Ç–≤–∞ –≤–æ–∑–≤—Ä–∞—â–µ–Ω—ã –Ω–∞ –±–∞–ª–∞–Ω—Å',
    'referral_bonus': 'üéÅ –í—ã –ø–æ–ª—É—á–∏–ª–∏ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–π –±–æ–Ω—É—Å {amount} USDT –æ—Ç {username}',
    'level_up': 'üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã –¥–æ—Å—Ç–∏–≥–ª–∏ —É—Ä–æ–≤–Ω—è {level}!',
    'income_received': 'üí∞ –ü–æ–ª—É—á–µ–Ω –¥–æ—Ö–æ–¥: {amount} USDT'
}

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
WEBAPP_URL = os.getenv('WEBAPP_URL', 'https://your-webapp-url.com')

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
DATABASE_URL = os.getenv('DATABASE_URL', 'sqlite:///crypto_empire.db')

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
ADMIN_IDS = [int(id) for id in os.getenv('ADMIN_IDS', '').split(',') if id]

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
MIN_WITHDRAW = 10  # –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –≤—ã–≤–æ–¥–∞
MAX_WITHDRAW = 10000  # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –≤—ã–≤–æ–¥–∞
DAILY_WITHDRAW_LIMIT = 50000  # –î–Ω–µ–≤–Ω–æ–π –ª–∏–º–∏—Ç –Ω–∞ –≤—ã–≤–æ–¥

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
NOTIFICATION_INTERVAL = 3600  # –ò–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (–≤ —Å–µ–∫—É–Ω–¥–∞—Ö)
INCOME_INTERVAL = 86400  # –ò–Ω—Ç–µ—Ä–≤–∞–ª –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è –¥–æ—Ö–æ–¥–∞ (–≤ —Å–µ–∫—É–Ω–¥–∞—Ö) 